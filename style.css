@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}

body{font-family:'Press Start 2P',cursive;margin:0;padding:0;overflow:hidden;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;touch-action:none;background:#000;position:fixed;width:100%;height:100%}

#gameCanvas{background-color:#111;display:block;cursor:crosshair;touch-action:none}

/* Responsive Mobile Controls */
@media (max-width:1024px){
    #mobile-controls{display:flex !important}
    #mobile-controls button{
        min-width:64px;min-height:64px;
        touch-action:manipulation;
        user-select:none;
        -webkit-user-select:none;
    }
}

@media (max-width:640px){
    #mobile-controls{
        bottom:24px;left:16px;right:16px;
        padding:0;
    }
    #mobile-controls button{
        width:72px !important;height:72px !important;
        font-size:28px;
        min-width:72px !important;min-height:72px !important;
    }
    #jump-btn{width:88px !important;height:88px !important;min-width:88px !important;min-height:88px !important}
}

@media (min-width:1025px){
    #mobile-controls{display:none !important}
}

/* Force mobile controls to show on smaller screens */
@media (max-width:1024px){
    #mobile-controls{display:flex !important}
    
    /* Hide desktop pause button on mobile */
    #pause-btn{display:none}
}

/* Ensure canvas takes full screen */
#game-container{
    position:fixed;top:0;left:0;width:100vw;height:100vh;overflow:hidden;
}

/* Enhanced mobile button styles */
#mobile-controls button{
    background:rgba(139,0,0,0.95) !important;
    border:3px solid rgba(255,69,69,0.9) !important;
    box-shadow:0 6px 16px rgba(0,0,0,0.4), 0 2px 4px rgba(255,0,0,0.2);
    transition:all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    backdrop-filter:blur(8px);
}

#jump-btn{
    background:rgba(255,140,0,0.95) !important;
    border:3px solid rgba(255,160,0,0.9) !important;
    box-shadow:0 6px 16px rgba(0,0,0,0.4), 0 2px 4px rgba(255,140,0,0.3);
}

/* Enhanced active state for mobile buttons */
#mobile-controls button:active{
    transform:scale(0.88);
    background:rgba(220,38,38,1) !important;
    box-shadow:0 2px 8px rgba(0,0,0,0.6), 0 1px 2px rgba(255,0,0,0.4);
}

#jump-btn:active{
    background:rgba(249,115,22,1) !important;
    box-shadow:0 2px 8px rgba(0,0,0,0.6), 0 1px 2px rgba(255,140,0,0.4);
}

/* Touch feedback */
#mobile-controls button:focus{
    outline:2px solid rgba(255,255,255,0.8);
    outline-offset:2px;
}

.blood-splatter{position:absolute;background-image:radial-gradient(circle,rgba(255,0,0,0.8) 0%,rgba(139,0,0,0.6) 70%,transparent 100%);border-radius:50%;pointer-events:none;z-index:5;animation:splatter 0.5s ease-out forwards}

@keyframes splatter{0%{transform:scale(0);opacity:1}50%{transform:scale(1.5);opacity:0.8}100%{transform:scale(1);opacity:0.3}}

.shake{animation:shake 0.5s cubic-bezier(.36,.07,.19,.97) both}

@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(2px,0,0)}30%,50%,70%{transform:translate3d(-4px,0,0)}40%,60%{transform:translate3d(4px,0,0)}}

.difficulty-warning{position:fixed;bottom:20px;right:20px;background-color:rgba(255,0,0,0.3);padding:10px;border-radius:5px;font-size:12px;animation:pulse 2s infinite}

@keyframes pulse{0%{opacity:0.5}50%{opacity:1}100%{opacity:0.5}}

.neon-blood-box{position:relative;padding:10px 20px;background:rgba(0,0,0,0.8);border:2px solid #ff0000;border-radius:10px;box-shadow:0 0 10px #ff0000,0 0 20px #ff0000,0 0 30px #ff0000,inset 0 0 10px #ff0000;animation:bloodDrip 3s infinite;overflow:hidden}

.neon-blood-box::before{content:"";position:absolute;top:-10px;left:10%;width:15px;height:15px;background:#ff0000;border-radius:50%;box-shadow:0 0 15px 5px #ff0000,0 0 25px 10px rgba(255,0,0,0.5);animation:drip 3s infinite}

.neon-blood-box::after{content:"";position:absolute;top:-5px;right:15%;width:12px;height:12px;background:#ff0000;border-radius:50%;box-shadow:0 0 15px 5px #ff0000,0 0 25px 10px rgba(255,0,0,0.5);animation:drip 4s infinite 1s}

@keyframes drip{0%{transform:translateY(0);opacity:1}50%{transform:translateY(10px);opacity:0.8}100%{transform:translateY(100px);opacity:0}}

@keyframes bloodDrip{0%{box-shadow:0 0 10px #ff0000,0 0 20px #ff0000,0 0 30px #ff0000,inset 0 0 10px #ff0000}50%{box-shadow:0 0 15px #ff0000,0 0 25px #ff0000,0 0 35px #ff0000,inset 0 0 15px #ff0000}100%{box-shadow:0 0 10px #ff0000,0 0 20px #ff0000,0 0 30px #ff0000,inset 0 0 10px #ff0000}}

.neon-text{color:#fff;text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #ff0000,0 0 20px #ff0000,0 0 25px #ff0000;animation:neonGlow 1.5s ease-in-out infinite alternate;font-weight:bold;letter-spacing:1px}

@keyframes neonGlow{from{text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #ff0000,0 0 20px #ff0000,0 0 25px #ff0000}to{text-shadow:0 0 10px #fff,0 0 20px #fff,0 0 30px #ff0000,0 0 40px #ff0000,0 0 50px #ff0000}}

#mobile-controls{pointer-events:none}

#mobile-controls button{pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:all 0.2s ease}

#mobile-controls button:active{transform:scale(0.95)}

#left-btn.active,#right-btn.active{
    background-color:#dc2626 !important;
    transform:scale(0.85);
    box-shadow:0 0 24px rgba(220,38,38,0.8), 0 0 12px rgba(255,0,0,0.6);
    border-color:#ff4444 !important;
}

#jump-btn:active, #jump-btn.active{
    background-color:#ea580c !important;
    transform:scale(0.85);
    box-shadow:0 0 24px rgba(234,88,12,0.8), 0 0 12px rgba(255,140,0,0.6);
    border-color:#ff8800 !important;
}

button{transition:all 0.3s ease;cursor:pointer}

button:active{transform:translateY(1px)}

@media (max-width:640px){#deaths-counter,#time-counter{font-size:0.75rem}}

*{-webkit-transform:translateZ(0);transform:translateZ(0)}

@media (min-width:640px){#mobile-controls{display:none !important}}

*{transition:transform 0.1s ease}

#achievement{animation:achievementSlide 3s ease-in-out forwards}

@keyframes achievementSlide{0%{transform:translate(-50%,-50%) scale(0);opacity:0}15%,85%{transform:translate(-50%,-50%) scale(1);opacity:1}100%{transform:translate(-50%,-50%) scale(0);opacity:0}}

.loading-dots::after{content:'';animation:loading 1.5s infinite}

@keyframes loading{0%,20%{content:''}40%{content:'.'}60%{content:'..'}80%,100%{content:'...'}}

.particle{position:absolute;background:#ff0000;pointer-events:none;border-radius:50%;animation:particleFall 2s linear forwards}

@keyframes particleFall{0%{transform:translateY(0) rotate(0deg);opacity:1}100%{transform:translateY(100vh) rotate(360deg);opacity:0}}

.flash{animation:flash 0.2s ease-in-out}

@keyframes flash{0%,100%{background:transparent}50%{background:rgba(255,0,0,0.3)}}

@keyframes victoryPulse{0%,100%{transform:scale(1);text-shadow:0 0 10px #00ff00}50%{transform:scale(1.05);text-shadow:0 0 20px #00ff00,0 0 30px #00ff00}}

#victory-screen h1{animation:victoryPulse 1s ease-in-out infinite}

@keyframes goalGlow{0%,100%{box-shadow:0 0 10px #00ff00}50%{box-shadow:0 0 20px #00ff00,0 0 30px #00ff00}}

#gameCanvas{background:#1a1a1a !important;display:block;margin:0 auto;border:2px solid #333}

.platform{background:#555 !important}

.spike{background:#cc0000 !important}

.moving-platform{background:#777 !important}

.goal-indicator{position:absolute;top:20px;right:20px;background:rgba(0,255,0,0.2);border:2px solid #00ff00;padding:8px 12px;border-radius:4px;color:#00ff00;font-weight:bold;z-index:100}
